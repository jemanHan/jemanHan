# 🗓️ 7주차 (7.21 ~ 7.27) 세션과 쿠키 기반 인증 흐름 이해

## ✅ 학습 주제
- 상태 유지 전략 (Session vs Cookie)
- 로그인 구조 적용 예시

---

## 1. 🔐 상태 유지 전략 (Session vs Cookie)

| 구분 | 세션 (Session) | 쿠키 (Cookie) |
|------|----------------|---------------|
| 저장 위치 | 서버 | 클라이언트(브라우저) |
| 보안 | 상대적으로 안전 (정보는 서버에 저장) | 보안에 취약 (클라이언트에 저장되므로 변조 가능성 있음) |
| 용량 제한 | 서버 메모리에 따라 제한 | 브라우저별 약 4KB 제한 |
| 사용 목적 | 로그인 세션 유지, 사용자 상태 관리 | 간단한 사용자 정보 저장, 자동 로그인 |
| 유효 기간 | 브라우저 종료 시 또는 설정한 시간까지 | 설정한 만료 시간까지 |
| 관리 방식 | 세션 ID를 쿠키로 저장하여 클라이언트와 연결 | 직접 쿠키를 생성하고 관리 |

---

## 2. 🧭 인증 흐름 요약

### ✅ Cookie 기반 인증
1. 사용자가 로그인 폼 제출
2. 서버에서 사용자 인증 후, **쿠키에 사용자 정보를 직접 저장** (ex. 토큰)
3. 이후 요청마다 자동으로 쿠키가 포함됨
4. 서버는 쿠키를 읽어 사용자 인증 수행

### ✅ Session 기반 인증
1. 사용자가 로그인 폼 제출
2. 서버에서 사용자 인증 후, **세션 객체 생성 (서버에 저장)**  
   - 클라이언트에는 세션 ID만 쿠키로 전달
3. 이후 요청마다 세션 ID 포함 → 서버에서 세션 조회하여 인증

---

## 3. 🧪 로그인 구조 적용 예시 (Session 방식 기준)

```plaintext
[Client] 로그인 요청 (/login)
   ↓
[Server] 사용자 인증 → 세션 생성
   ↓
[Server] 세션 ID를 쿠키에 담아 응답
   ↓
[Client] 다음 요청 시 세션 ID 쿠키 자동 포함
   ↓
[Server] 세션 ID 확인 후 사용자 인증 처리
